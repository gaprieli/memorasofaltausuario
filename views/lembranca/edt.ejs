<%-include('../cabecalho.ejs')%>
<h1>Editar Lembrança</h1>
<div>
    <a href="/lembranca/lst">Voltar para a Lista</a>
</div>
<div>
    <form method="post">
        <input type="hidden" name="id" value="<%= lembranca.id %>">

        <label>Título:</label>
        <input type="text" name="titulo" value="<%= lembranca.titulo %>"><br>

        <label for="usuario">Usuário:</label>
        <select name="usuario" id="usuario" required>
            <option value="">Selecione um usuário</option>
            <% usuarios.forEach(function(usuario) { %>
                <option value="<%= usuario._id %>">
                    <%= usuario.nome %>
                </option>
            <% }); %>
        </select><br>

        <label for="lugar">Lugar:</label>
        <select name="lugar" id="lugar" required>
            <option value="">Selecione um lugar</option>
            <% lugares.forEach(function(lugar) { %>
                <option value="<%= lugar._id %>">
                    <%= lugar.nome %>
                </option>
            <% }); %>
        </select><br>

        <label for="empresa">Empresa:</label>
        <select name="empresa" id="empresa" required>
            <option value="">Selecione uma empresa</option>
            <% empresas.forEach(function(empresa) { %>
                <option value="<%= empresa._id %>">
                    <%= empresa.nome %>
                </option>
            <% }); %>
        </select><br>

        <label>Data:</label>
        <input type="date" name="data" value="<%= lembranca.data ? new Date(lembranca.data).toISOString().split('T')[0] : '' %>"><br>
        <label>Relato:</label>
        <textarea name="relato"><%= lembranca.relato %></textarea><br>
        <label>Estrelas:</label>
        <input type="number" name="estrelas" min="1" max="5" value="<%= lembranca.estrelas %>"><br>
        <button type="submit">Salvar Alterações</button>
    </form>
</div>
<%-include('../rodape.ejs')%>